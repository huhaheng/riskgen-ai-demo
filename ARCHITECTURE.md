# RiskGen AI - æ¶æ„æ–‡æ¡£

> è¯¦ç»†çš„æŠ€æœ¯æ¶æ„å’Œè®¾è®¡è¯´æ˜

## ğŸ“ æ•´ä½“æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Browser (æµè§ˆå™¨)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  index.html  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚           Application Layer              â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚              â”‚  â”‚         main.js (Entry)           â”‚  â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚              â”‚  â”‚        router.js (Routing)        â”‚  â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚              â”‚  â”‚ dashboard  â”‚ workspace  â”‚ knowledgeâ”‚  â”‚  â”‚
â”‚              â”‚  â”‚   .js      â”‚   .js      â”‚   .js    â”‚  â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚              â”‚  â”‚ generation â”‚      report.js         â”‚ â”‚  â”‚
â”‚              â”‚  â”‚   .js      â”‚                        â”‚ â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚         Core Services Layer              â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚              â”‚  â”‚  store.js  â”‚ config.js  â”‚ utils.js â”‚  â”‚  â”‚
â”‚              â”‚  â”‚ (Storage)  â”‚(Constants) â”‚(Helpers) â”‚  â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚            Data Layer                    â”‚  â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚              â”‚  â”‚ mock_data.js â”‚ knowledge_data.js    â”‚ â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   LocalStorage                        â”‚ â”‚
â”‚  â”‚  â€¢ riskgen_projects  â€¢ riskgen_papers                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ æ¨¡å—è¯¦è§£

### 1. Core Services (æ ¸å¿ƒæœåŠ¡å±‚)

#### `store.js` - æ•°æ®å­˜å‚¨ç®¡ç†

**èŒè´£**ï¼š
- ç®¡ç†åº”ç”¨çš„æœ¬åœ°æ•°æ®å­˜å‚¨ï¼ˆLocalStorageï¼‰
- æä¾› CRUD æ“ä½œæ¥å£
- ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§

**ä¸»è¦ç±»å’Œæ–¹æ³•**ï¼š

```javascript
class Store {
    // é¡¹ç›®ç®¡ç†
    createProject(name)
    getProject(id)
    updateProject(id, updates)
    deleteProject(id)
    
    // Paper ç®¡ç†
    addPaper(paper)
    getPaper(id)
    updatePaper(id, updates)
    getPapersByProject(projectId)
    deletePaper(id)
    
    // å·¥å…·æ–¹æ³•
    clearAll()
    exportData()
    importData(data)
}
```

**æ•°æ®æŒä¹…åŒ–**ï¼š
- `riskgen_projects`: å­˜å‚¨æ‰€æœ‰é¡¹ç›®æ•°æ®
- `riskgen_papers`: å­˜å‚¨æ‰€æœ‰é£é™©è¯„ä¼°æŠ¥å‘Š

#### `config.js` - é…ç½®å’Œå¸¸é‡

**èŒè´£**ï¼š
- å®šä¹‰åº”ç”¨çº§å¸¸é‡
- é…ç½®é£é™©ç±»åˆ«ã€ç­‰çº§ã€çŠ¶æ€ç­‰
- æä¾›é»˜è®¤æ¨¡æ¿

**ä¸»è¦å¯¼å‡º**ï¼š
- `DEFAULT_PROMPT_MODULES`: Prompt é»˜è®¤æ¨¡æ¿
- `RISK_CATEGORIES`: é£é™©ç±»åˆ«å®šä¹‰
- `RISK_RATINGS`: é£é™©ç­‰çº§é…ç½®
- `SME_ROLES`: SME è§’è‰²åˆ—è¡¨
- `STORAGE_KEYS`: LocalStorage é”®å

#### `utils.js` - å·¥å…·å‡½æ•°

**èŒè´£**ï¼š
- æä¾›é€šç”¨çš„è¾…åŠ©å‡½æ•°
- DOM æ“ä½œè¾…åŠ©
- æ•°æ®æ ¼å¼åŒ–

**ä¸»è¦å‡½æ•°**ï¼š
- `delay(ms)`: å»¶è¿Ÿæ‰§è¡Œ
- `truncate(str, n)`: å­—ç¬¦ä¸²æˆªæ–­
- `generateId(prefix)`: ç”Ÿæˆå”¯ä¸€ ID
- `debounce(func, wait)`: é˜²æŠ–å‡½æ•°
- `formatDate(date)`: æ—¥æœŸæ ¼å¼åŒ–
- `setTextContent(id, text)`: å®‰å…¨è®¾ç½®æ–‡æœ¬

### 2. Application Layer (åº”ç”¨å±‚)

#### `main.js` - åº”ç”¨å…¥å£

**èŒè´£**ï¼š
- åº”ç”¨åˆå§‹åŒ–
- é”™è¯¯å¤„ç†
- å…¨å±€å¯¹è±¡æš´éœ²

**åˆå§‹åŒ–æµç¨‹**ï¼š
```
DOMContentLoaded â†’ initApp() â†’ router.init() â†’ å„æ¨¡å—åˆå§‹åŒ–
```

#### `router.js` - è·¯ç”±ç®¡ç†

**èŒè´£**ï¼š
- ç®¡ç†è§†å›¾åˆ‡æ¢
- ç»´æŠ¤å¯¼èˆªçŠ¶æ€
- è°ƒåº¦æ¨¡å—åˆå§‹åŒ–

**ä¸»è¦æ–¹æ³•**ï¼š
- `init()`: åˆå§‹åŒ–åº”ç”¨
- `renderDashboard()`: æ˜¾ç¤º Dashboard
- `openProject(id)`: æ‰“å¼€é¡¹ç›®å·¥ä½œåŒº
- `backToDashboard()`: è¿”å› Dashboard

**è§†å›¾åˆ‡æ¢é€»è¾‘**ï¼š
```
Dashboard View â†â†’ Workspace View
    â†“                   â†“
Projects Tab      Input Tab
Knowledge Tab     Prompt Tab
                  Generation Tab
                  Report Tab
```

#### `dashboard.js` - Dashboard é¡µé¢

**èŒè´£**ï¼š
- é¡¹ç›®åˆ—è¡¨å±•ç¤º
- é¡¹ç›®åˆ›å»º
- Knowledge Base åˆ‡æ¢

**ä¸»è¦å‡½æ•°**ï¼š
- `initDashboard()`: åˆå§‹åŒ– Dashboard
- `renderProjectList()`: æ¸²æŸ“é¡¹ç›®åˆ—è¡¨
- `handleCreateProject()`: å¤„ç†é¡¹ç›®åˆ›å»º
- `showDashboardTab(tabName)`: åˆ‡æ¢æ ‡ç­¾é¡µ

#### `workspace.js` - å·¥ä½œåŒºé¡µé¢

**èŒè´£**ï¼š
- é¡¹ç›®æ•°æ®è¾“å…¥
- Prompt ç¼–è¾‘
- å·¥ä½œåŒºæ ‡ç­¾åˆ‡æ¢

**æ ‡ç­¾é¡µ**ï¼š
1. **Input & Docs**: é¡¹ç›®ä¿¡æ¯è¾“å…¥
2. **Prompt Studio**: LLM Prompt ç¼–è¾‘
3. **Generation**: é£é™©è¯„ä¼°ç”Ÿæˆ
4. **Risk Report**: é£é™©æŠ¥å‘ŠæŸ¥çœ‹

**ä¸»è¦å‡½æ•°**ï¼š
- `initWorkspaceEvents()`: åˆå§‹åŒ–äº‹ä»¶
- `loadWorkspace(project)`: åŠ è½½é¡¹ç›®
- `switchTab(tabId)`: åˆ‡æ¢æ ‡ç­¾é¡µ
- `loadPromptEditor(project, moduleKey)`: åŠ è½½ Prompt
- `handleFormSubmit()`: ä¿å­˜é¡¹ç›®é…ç½®

#### `generation.js` - é£é™©ç”Ÿæˆé¡µé¢

**èŒè´£**ï¼š
- ç®¡ç†é£é™©è¯„ä¼°ç”Ÿæˆæµç¨‹
- Papers åˆ—è¡¨å±•ç¤º
- ç”Ÿæˆæ—¥å¿—å±•ç¤º

**ç”Ÿæˆæµç¨‹**ï¼š
```
Step 1: Assembling Prompts (è·å– Prompt æ¨¡æ¿)
    â†“
Step 2: Fetching User Inputs (è·å–ç”¨æˆ·è¾“å…¥)
    â†“
Step 3: Retrieving Historical Cases (æ£€ç´¢å†å²æ¡ˆä¾‹)
    â†“
Step 4: Generating Risk Analysis (ç”Ÿæˆé£é™©åˆ†æ)
    â†“
å®Œæˆå¹¶ä¿å­˜ Paper
```

**ä¸»è¦å‡½æ•°**ï¼š
- `initGenerationPage()`: åˆå§‹åŒ–é¡µé¢
- `handleStartGeneration()`: å¼€å§‹ç”Ÿæˆ
- `simulateGeneration()`: æ¨¡æ‹Ÿç”Ÿæˆæµç¨‹
- `renderPapersList()`: æ¸²æŸ“ Papers åˆ—è¡¨
- `viewPaperLogs()`: æŸ¥çœ‹ç”Ÿæˆæ—¥å¿—

#### `report.js` - é£é™©æŠ¥å‘Šé¡µé¢

**èŒè´£**ï¼š
- é£é™©æŠ¥å‘Šå±•ç¤º
- æœç´¢å’Œç­›é€‰
- å¿«é€Ÿå¯¼èˆª

**å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Papers â”‚ Quick    â”‚  Main Content Area        â”‚
â”‚ List   â”‚ Nav      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚        â”‚          â”‚  â”‚ Toolbar & Stats      â”‚ â”‚
â”‚        â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚        â”‚          â”‚  â”‚ Risk Cards           â”‚ â”‚
â”‚        â”‚          â”‚  â”‚ â€¢ Card 1             â”‚ â”‚
â”‚        â”‚          â”‚  â”‚ â€¢ Card 2             â”‚ â”‚
â”‚        â”‚          â”‚  â”‚ â€¢ ...                â”‚ â”‚
â”‚        â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸»è¦å‡½æ•°**ï¼š
- `initReportPage(project)`: åˆå§‹åŒ–æŠ¥å‘Šé¡µé¢
- `renderRisks(paper)`: æ¸²æŸ“é£é™©å¡ç‰‡
- `createRiskCard(risk)`: åˆ›å»ºé£é™©å¡ç‰‡ HTML
- `updateReportStats(results)`: æ›´æ–°ç»Ÿè®¡æ•°æ®
- `renderQuickNav(paper)`: æ¸²æŸ“å¿«é€Ÿå¯¼èˆª

#### `knowledge.js` - çŸ¥è¯†åº“é¡µé¢

**èŒè´£**ï¼š
- å†å²æ¡ˆä¾‹å±•ç¤º
- æœç´¢å’Œç­›é€‰
- æ¡ˆä¾‹è¯¦æƒ…æŸ¥çœ‹

**ä¸»è¦å‡½æ•°**ï¼š
- `initKnowledgeBase()`: åˆå§‹åŒ–çŸ¥è¯†åº“
- `renderKBCases(cases)`: æ¸²æŸ“æ¡ˆä¾‹å¡ç‰‡
- `handleSearch()`: å¤„ç†æœç´¢
- `searchCases(query, filters)`: æœç´¢æ¡ˆä¾‹
- `openCaseDetail(id)`: æ‰“å¼€æ¡ˆä¾‹è¯¦æƒ…

### 3. Data Layer (æ•°æ®å±‚)

#### `mock_data.js` - Mock æ•°æ®

**å†…å®¹**ï¼š
- `BACKEND_DATA_JSON`: æ¨¡æ‹Ÿåç«¯è¿”å›çš„é£é™©è¯„ä¼°æ•°æ®
- `DEFAULT_PROMPT_MODULES`: Prompt æ¨¡æ¿ï¼ˆå·²ç§»è‡³ config.jsï¼‰
- `RISK_CATEGORIES`: é£é™©ç±»åˆ«ï¼ˆå·²ç§»è‡³ config.jsï¼‰
- `MOCK_SCENARIOS_POOL`: åœºæ™¯æ¨¡æ¿æ± 
- `MOCK_RISK_RESULTS`: ç¤ºä¾‹é£é™©ç»“æœ

#### `knowledge_data.js` - çŸ¥è¯†åº“æ•°æ®

**å†…å®¹**ï¼š
- `KNOWLEDGE_CASES`: å†å²æ¡ˆä¾‹æ•°ç»„
- `getActiveCases()`: è·å–æ´»è·ƒæ¡ˆä¾‹
- `searchCases()`: æœç´¢æ¡ˆä¾‹
- `getFilterOptions()`: è·å–ç­›é€‰é€‰é¡¹

**æ¡ˆä¾‹æ•°æ®ç»“æ„**ï¼š
```javascript
{
    id: 'case_001',
    documentName: 'æ¡ˆä¾‹åç§°',
    status: 'active',
    projectInfo: {
        projectType: 'é¡¹ç›®ç±»å‹',
        industry: 'è¡Œä¸š',
        region: 'åœ°åŒº',
        // ...
    },
    tags: ['æ ‡ç­¾1', 'æ ‡ç­¾2'],
    retrievalSummary: 'æ£€ç´¢æ‘˜è¦',
    assessmentStats: {
        totalRisksIdentified: 42,
        criticalRisks: 3,
        // ...
    },
    keyRisks: [...]
}
```

## ğŸ”„ æ•°æ®æµ

### åˆ›å»ºé¡¹ç›®æµç¨‹

```
ç”¨æˆ·ç‚¹å‡» "New Project"
    â†“
Dashboard.handleCreateProject()
    â†“
Store.createProject(name)
    â†“
ä¿å­˜åˆ° LocalStorage
    â†“
Router.openProject(id)
    â†“
Workspace.loadWorkspace(project)
```

### ç”Ÿæˆé£é™©è¯„ä¼°æµç¨‹

```
ç”¨æˆ·ç‚¹å‡» "Generate"
    â†“
Generation.handleStartGeneration()
    â†“
åˆ›å»º Paper å¯¹è±¡
    â†“
æ¨¡æ‹Ÿç”Ÿæˆæµç¨‹
  Step 1: è·å– Prompts
  Step 2: è·å–ç”¨æˆ·è¾“å…¥
  Step 3: æ£€ç´¢å†å²æ¡ˆä¾‹
  Step 4: ç”Ÿæˆé£é™©åˆ†æ
    â†“
Store.addPaper(paper)
    â†“
ä¿å­˜åˆ° LocalStorage
    â†“
Generation.renderPapersList()
```

### æŸ¥çœ‹æŠ¥å‘Šæµç¨‹

```
ç”¨æˆ·åˆ‡æ¢åˆ° Report Tab
    â†“
Workspace.switchTab('tab-report')
    â†“
Report.initReportPage(project)
    â†“
è·å–é¡¹ç›®çš„ Papers
    â†“
å¦‚æœæ²¡æœ‰ Papers ä¸”æœ‰ mock æ•°æ®
  â†’ è‡ªåŠ¨åˆ›å»º Demo Paper
    â†“
Report.viewPaperResults(paperId)
    â†“
Report.renderRisks(paper)
    â†“
Report.renderQuickNav(paper)
```

## ğŸ¨ æ ·å¼æ¶æ„

### CSS ç»„ç»‡

```
style.css
â”œâ”€â”€ Root Variables (CSS å˜é‡)
â”œâ”€â”€ Reset & Base Styles (åŸºç¡€æ ·å¼)
â”œâ”€â”€ Utility Classes (å·¥å…·ç±»)
â”œâ”€â”€ Components (ç»„ä»¶æ ·å¼)
â”‚   â”œâ”€â”€ Buttons
â”‚   â”œâ”€â”€ Forms
â”‚   â”œâ”€â”€ Cards
â”‚   â”œâ”€â”€ Modals
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Layout (å¸ƒå±€)
â”‚   â”œâ”€â”€ Dashboard
â”‚   â”œâ”€â”€ Workspace
â”‚   â””â”€â”€ Sidebar
â”œâ”€â”€ Pages (é¡µé¢ç‰¹å®šæ ·å¼)
â”‚   â”œâ”€â”€ Knowledge Base
â”‚   â”œâ”€â”€ Generation
â”‚   â””â”€â”€ Report
â””â”€â”€ Animations (åŠ¨ç”»)
```

### è®¾è®¡ç³»ç»Ÿ

**é¢œè‰²**ï¼š
- Primary: `#2563EB` (è“è‰²)
- Accent: `#8B5CF6` (ç´«è‰²ï¼Œç”¨äº AI ç›¸å…³)
- Risk Ratings: Critical/High/Medium/Low

**é—´è·ç³»ç»Ÿ**ï¼š
- 0.25rem, 0.5rem, 0.75rem, 1rem, 1.5rem, 2rem, 3rem, 4rem

**åœ†è§’**ï¼š
- Small: 6px
- Medium: 10px
- Large: 16px

**é˜´å½±**ï¼š
- Small, Medium, Large, Glow

## ğŸ”’ æ•°æ®å®‰å…¨

### LocalStorage ä½¿ç”¨

**å­˜å‚¨çš„æ•°æ®**ï¼š
- é¡¹ç›®é…ç½®
- ç”¨æˆ·è¾“å…¥
- è‡ªå®šä¹‰ Prompts
- ç”Ÿæˆçš„é£é™©è¯„ä¼°

**æ³¨æ„äº‹é¡¹**ï¼š
1. æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯
2. æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šä¸¢å¤±æ‰€æœ‰ä¿¡æ¯
3. æ— åŠ å¯†ï¼ˆDemo é¡¹ç›®ï¼‰
4. æ— ç”¨æˆ·è®¤è¯

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### å·²å®æ–½çš„ä¼˜åŒ–

1. **æ¨¡å—åŒ–åŠ è½½**ï¼šä½¿ç”¨ ES6 Modules æŒ‰éœ€åŠ è½½
2. **äº‹ä»¶å§”æ‰˜**ï¼šå¤§é‡åˆ—è¡¨é¡¹ä½¿ç”¨äº‹ä»¶å§”æ‰˜
3. **é˜²æŠ–**ï¼šæœç´¢è¾“å…¥ä½¿ç”¨é˜²æŠ–å‡½æ•°
4. **CSS ä¼˜åŒ–**ï¼šä½¿ç”¨ CSS Variables å‡å°‘é‡å¤
5. **æœ€å°åŒ–é‡ç»˜**ï¼šåˆç†ä½¿ç”¨ class toggle

### å¯èƒ½çš„ä¼˜åŒ–æ–¹å‘

1. ~~ä»£ç åˆ†å‰²~~ï¼ˆå½“å‰ä¸º Demoï¼Œä¸éœ€è¦ï¼‰
2. ~~è™šæ‹Ÿæ»šåŠ¨~~ï¼ˆæ•°æ®é‡ä¸å¤§ï¼‰
3. ~~Service Worker~~ï¼ˆä¸éœ€è¦ç¦»çº¿åŠŸèƒ½ï¼‰

## ğŸ“ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„é£é™©ç±»åˆ«

1. ç¼–è¾‘ `js/config.js`ï¼š
```javascript
export const RISK_CATEGORIES = {
    // ... ç°æœ‰ç±»åˆ«
    "New Category": [
        { id: "nc-01", level2: "Sub Category", level3: "Specific Risk" }
    ]
};
```

2. æ›´æ–° Mock æ•°æ®ï¼ˆå¦‚éœ€è¦ï¼‰

### æ·»åŠ æ–°çš„é¡µé¢/åŠŸèƒ½

1. åœ¨ `js/` åˆ›å»ºæ–°çš„æ¨¡å—æ–‡ä»¶
2. åœ¨ `router.js` ä¸­æ³¨å†Œè·¯ç”±
3. åœ¨ `workspace.js` çš„ `switchTab()` ä¸­æ·»åŠ åˆå§‹åŒ–é€»è¾‘
4. åœ¨ `index.html` ä¸­æ·»åŠ å¯¹åº”çš„ HTML ç»“æ„

### é›†æˆçœŸå®åç«¯

1. åˆ›å»º API æœåŠ¡æ¨¡å— (`js/api.js`)
2. æ›¿æ¢ `store.js` ä¸­çš„ LocalStorage è°ƒç”¨ä¸º API è°ƒç”¨
3. å¤„ç†å¼‚æ­¥æ“ä½œå’Œé”™è¯¯
4. æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º

## ğŸ› è°ƒè¯•æŠ€å·§

### æµè§ˆå™¨æ§åˆ¶å°

```javascript
// è®¿é—®å…¨å±€å¯¹è±¡
window.RiskGenApp

// æŸ¥çœ‹å½“å‰è·¯ç”±çŠ¶æ€
window.appRouter

// æŸ¥çœ‹å­˜å‚¨æ•°æ®
window.store.projects
window.store.papers

// æ¸…ç©ºæ‰€æœ‰æ•°æ®
window.store.clearAll()

// å¯¼å‡ºæ•°æ®
window.store.exportData()
```

### å¸¸è§é—®é¢˜æ’æŸ¥

1. **é¡µé¢ç©ºç™½**ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
2. **æ•°æ®ä¸æ˜¾ç¤º**ï¼šæ£€æŸ¥ LocalStorage ä¸­çš„æ•°æ®
3. **æ¨¡å—åŠ è½½å¤±è´¥**ï¼šç¡®ä¿ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆä¸æ˜¯ file:// åè®®ï¼‰
4. **æ ·å¼é”™ä¹±**ï¼šæ£€æŸ¥ CSS æ–‡ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `README.md`: é¡¹ç›®æ¦‚è¿°å’Œä½¿ç”¨æŒ‡å—
- `docs/`: ä¸šåŠ¡ç›¸å…³æ–‡æ¡£
- ä»£ç æ³¨é‡Šï¼šæ¯ä¸ªæ¨¡å—æ–‡ä»¶éƒ½æœ‰è¯¦ç»†çš„æ³¨é‡Š

---

**ç»´æŠ¤æ—¥æœŸ**: 2025-12-29  
**ç‰ˆæœ¬**: 1.0.0

