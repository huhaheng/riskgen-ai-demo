# ğŸ’¾ æ•°æ®å­˜å‚¨è¯´æ˜

> äº†è§£æ•°æ®å­˜å‚¨ä½ç½®å’Œå¦‚ä½•ä¿®æ”¹

---

## ğŸ“ æ•°æ®å­˜å‚¨ä½ç½®

æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨**æµè§ˆå™¨çš„ LocalStorage** ä¸­ã€‚

### å­˜å‚¨çš„é”®å

| æ•°æ®ç±»å‹ | LocalStorage Key | è¯´æ˜ |
|---------|-----------------|------|
| **é¡¹ç›®åˆ—è¡¨** | `riskgen_projects` | æ‰€æœ‰åˆ›å»ºçš„é¡¹ç›® |
| **é£é™©æŠ¥å‘Š** | `riskgen_papers` | æ‰€æœ‰ç”Ÿæˆçš„ Risk Papers |

---

## ğŸ” å¦‚ä½•æŸ¥çœ‹æ•°æ®

### æ–¹æ³• 1ï¼šæµè§ˆå™¨æ§åˆ¶å°ï¼ˆæœ€ç®€å•ï¼‰

1. **æ‰“å¼€åº”ç”¨**ï¼š`http://localhost:8000`
2. **æŒ‰ F12** æ‰“å¼€å¼€å‘è€…å·¥å…·
3. **ç‚¹å‡» "Console" æ ‡ç­¾**
4. **è¾“å…¥ä»¥ä¸‹å‘½ä»¤**ï¼š

```javascript
// æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®
JSON.parse(localStorage.getItem('riskgen_projects'))

// æŸ¥çœ‹æ‰€æœ‰ Risk Papers
JSON.parse(localStorage.getItem('riskgen_papers'))

// æŸ¥çœ‹å½“å‰é¡¹ç›®æ•°æ®ï¼ˆåŒ…å« Input & Docs å’Œ Prompt Studio çš„æ•°æ®ï¼‰
// å…ˆæ‰“å¼€ä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åï¼š
window.store.projects[0]
```

### æ–¹æ³• 2ï¼šæµè§ˆå™¨ Application é¢æ¿

1. **æŒ‰ F12** æ‰“å¼€å¼€å‘è€…å·¥å…·
2. **ç‚¹å‡» "Application" æ ‡ç­¾**ï¼ˆChromeï¼‰æˆ– "Storage" æ ‡ç­¾ï¼ˆFirefoxï¼‰
3. **å·¦ä¾§æ‰¾åˆ° "Local Storage"**
4. **ç‚¹å‡»ä½ çš„ç½‘ç«™åœ°å€**ï¼ˆlocalhost:8000ï¼‰
5. **æ‰¾åˆ° `riskgen_projects` å’Œ `riskgen_papers`**
6. **ç‚¹å‡»æŸ¥çœ‹æ•°æ®**

---

## ğŸ—‘ï¸ å¦‚ä½•æ¸…ç©ºæ•°æ®

### æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼ˆæ¨èï¼‰

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥ï¼š

```javascript
// æ¸…ç©ºæ‰€æœ‰é¡¹ç›®
localStorage.removeItem('riskgen_projects')

// æ¸…ç©ºæ‰€æœ‰ Risk Papers
localStorage.removeItem('riskgen_papers')

// åˆ·æ–°é¡µé¢
location.reload()
```

### ä½¿ç”¨åº”ç”¨å†…ç½®æ–¹æ³•

åœ¨æ§åˆ¶å°è¾“å…¥ï¼š

```javascript
// æ¸…ç©ºæ‰€æœ‰æ•°æ®
window.store.clearAll()

// åˆ·æ–°é¡µé¢
location.reload()
```

---

## âœï¸ å¦‚ä½•ä¿®æ”¹æ•°æ®

### ä¿®æ”¹é¡¹ç›®æ•°æ®ï¼ˆInput & Docs å’Œ Prompt Studioï¼‰

#### æ–¹æ³• 1ï¼šåœ¨é¡µé¢ä¸Šç›´æ¥ä¿®æ”¹ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€é¡¹ç›®**
2. **åœ¨ "Input & Docs" æ ‡ç­¾é¡µå¡«å†™æ•°æ®**
3. **ç‚¹å‡» "Save Changes" æŒ‰é’®**
4. âœ… **æ•°æ®è‡ªåŠ¨ä¿å­˜**

5. **åœ¨ "Prompt Studio" æ ‡ç­¾é¡µç¼–è¾‘ Prompt**
6. **ç‚¹å‡» "Save Module" æŒ‰é’®**
7. âœ… **æ•°æ®è‡ªåŠ¨ä¿å­˜**

**æ³¨æ„**ï¼šè¿™ç§æ–¹å¼ä¿å­˜çš„æ•°æ®ä¼š**æ°¸ä¹…ä¿å­˜**ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±ï¼

#### æ–¹æ³• 2ï¼šåœ¨æ§åˆ¶å°ç›´æ¥ä¿®æ”¹

```javascript
// 1. è·å–é¡¹ç›®
const projects = JSON.parse(localStorage.getItem('riskgen_projects'))
const project = projects[0]  // ç¬¬ä¸€ä¸ªé¡¹ç›®

// 2. ä¿®æ”¹ Input & Docs æ•°æ®
project.inputs.background = 'ä½ çš„é¡¹ç›®èƒŒæ™¯...'
project.inputs.flow = 'ä½ çš„æ“ä½œæµç¨‹...'
project.inputs.apiEndpoint = 'https://...'

// 3. ä¿®æ”¹ Prompt Studio æ•°æ®
project.prompts.module1 = 'ä½ çš„ Module 1 å†…å®¹...'
project.prompts.module3 = 'ä½ çš„ Module 3 å†…å®¹...'
project.prompts.module4 = 'ä½ çš„ Module 4 å†…å®¹...'

// 4. ä¿å­˜
localStorage.setItem('riskgen_projects', JSON.stringify(projects))

// 5. åˆ·æ–°é¡µé¢
location.reload()
```

### ä¿®æ”¹ Risk Papers æ•°æ®

```javascript
// 1. è·å–æ‰€æœ‰ Papers
const papers = JSON.parse(localStorage.getItem('riskgen_papers'))

// 2. ä¿®æ”¹ç¬¬ä¸€ä¸ª Paper
papers[0].name = 'æ–°çš„ Paper åç§°'
papers[0].results[0].risk_details.risk_title = 'æ–°çš„é£é™©æ ‡é¢˜'

// 3. ä¿å­˜
localStorage.setItem('riskgen_papers', JSON.stringify(papers))

// 4. åˆ·æ–°é¡µé¢
location.reload()
```

---

## ğŸ“‹ æ•°æ®ç»“æ„è¯´æ˜

### é¡¹ç›®æ•°æ®ç»“æ„

```javascript
{
    id: 'proj_1234567890',
    name: 'é¡¹ç›®åç§°',
    created: '2024-12-29T12:00:00.000Z',
    inputs: {
        background: 'é¡¹ç›®èƒŒæ™¯...',      // Input & Docs é¡µé¢
        flow: 'æ“ä½œæµç¨‹...',            // Input & Docs é¡µé¢
        apiEndpoint: 'https://...'      // Input & Docs é¡µé¢
    },
    prompts: {
        module1: 'Module 1 å†…å®¹...',    // Prompt Studio é¡µé¢
        module3: 'Module 3 å†…å®¹...',    // Prompt Studio é¡µé¢
        module4: 'Module 4 å†…å®¹...'     // Prompt Studio é¡µé¢
    },
    results: []  // æ—§æ•°æ®ï¼Œç°åœ¨ç”¨ papers
}
```

### Risk Paper æ•°æ®ç»“æ„

```javascript
{
    id: 'paper_1234567890',
    name: 'Risk Paper åç§°',
    createdAt: '2024-12-29T12:00:00.000Z',
    projectId: 'proj_1234567890',
    status: 'completed',
    results: [
        {
            id: 'risk_001',
            category: { level1: 'Data Risk', level2: '...', level3: '...' },
            is_applicable: true,
            status: 'draft',
            risk_details: { ... }
        }
    ],
    capturedData: { ... },
    generationLogs: [ ... ]
}
```

---

## ğŸ¯ å¸¸è§æ“ä½œ

### æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼Œé‡æ–°å¼€å§‹

```javascript
localStorage.clear()
location.reload()
```

### åªåˆ é™¤é¡¹ç›®ï¼Œä¿ç•™ Papers

```javascript
localStorage.removeItem('riskgen_projects')
location.reload()
```

### åªåˆ é™¤ Papersï¼Œä¿ç•™é¡¹ç›®

```javascript
localStorage.removeItem('riskgen_papers')
location.reload()
```

### å¯¼å‡ºæ•°æ®ï¼ˆå¤‡ä»½ï¼‰

```javascript
// å¯¼å‡ºæ‰€æœ‰æ•°æ®
const allData = {
    projects: JSON.parse(localStorage.getItem('riskgen_projects')),
    papers: JSON.parse(localStorage.getItem('riskgen_papers')),
    exportDate: new Date().toISOString()
}

// å¤åˆ¶åˆ°å‰ªè´´æ¿
navigator.clipboard.writeText(JSON.stringify(allData, null, 2))
console.log('âœ… æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿')
```

### å¯¼å…¥æ•°æ®ï¼ˆæ¢å¤ï¼‰

```javascript
// 1. å‡†å¤‡æ•°æ®ï¼ˆä»å‰ªè´´æ¿æˆ–æ–‡ä»¶ï¼‰
const backupData = {
    projects: [...],
    papers: [...]
}

// 2. å¯¼å…¥
localStorage.setItem('riskgen_projects', JSON.stringify(backupData.projects))
localStorage.setItem('riskgen_papers', JSON.stringify(backupData.papers))

// 3. åˆ·æ–°
location.reload()
```

---

## âš ï¸ é‡è¦æç¤º

### æ•°æ®æŒä¹…æ€§

- âœ… **é¡µé¢åˆ·æ–°ä¸ä¼šä¸¢å¤±**ï¼šæ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨ LocalStorage
- âœ… **å…³é—­æµè§ˆå™¨ä¸ä¼šä¸¢å¤±**ï¼šé™¤éæ¸…é™¤æµè§ˆå™¨æ•°æ®
- âŒ **æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šä¸¢å¤±**ï¼šæ¸…é™¤ç¼“å­˜/å†å²è®°å½•ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®
- âŒ **æ¢æµè§ˆå™¨ä¼šä¸¢å¤±**ï¼šä¸åŒæµè§ˆå™¨æœ‰ç‹¬ç«‹çš„ LocalStorage

### æ•°æ®ä½ç½®

- **Chrome/Edge**: `C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Local\Google\Chrome\User Data\Default\Local Storage`
- **Firefox**: `C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\Mozilla\Firefox\Profiles\xxx\webappsstore.sqlite`
- **ä¸å»ºè®®ç›´æ¥ä¿®æ”¹è¿™äº›æ–‡ä»¶**ï¼Œä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°æ›´å®‰å…¨

---

## ğŸ› ï¸ ä½¿ç”¨å·¥å…·é¡µé¢

æˆ‘ä¸ºä½ åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®ç®¡ç†å·¥å…·é¡µé¢ï¼š`02-tools/data-manager.html`

è®¿é—®ï¼š`http://localhost:8000/02-tools/data-manager.html`

åŠŸèƒ½ï¼š
- âœ… æŸ¥çœ‹æ‰€æœ‰æ•°æ®
- âœ… æ¸…ç©ºæ•°æ®
- âœ… å¯¼å‡º/å¯¼å…¥æ•°æ®
- âœ… ç¼–è¾‘æ•°æ®

---

## ğŸ’¡ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### æŸ¥çœ‹æ•°æ®
```javascript
// é¡¹ç›®
localStorage.getItem('riskgen_projects')
// Papers
localStorage.getItem('riskgen_papers')
```

### æ¸…ç©ºæ•°æ®
```javascript
localStorage.removeItem('riskgen_projects')
localStorage.removeItem('riskgen_papers')
location.reload()
```

### ä½¿ç”¨åº”ç”¨æ–¹æ³•
```javascript
// æ¸…ç©ºæ‰€æœ‰
window.store.clearAll()

// å¯¼å‡ºæ•°æ®
window.store.exportData()

// æŸ¥çœ‹å½“å‰é¡¹ç›®
window.store.projects
window.store.papers
```

---

**ğŸ“ æç¤º**ï¼šåœ¨é¡µé¢ä¸Šç›´æ¥ä¿®æ”¹å¹¶ä¿å­˜çš„æ•°æ®ä¼šæ°¸ä¹…ä¿å­˜ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±ï¼

